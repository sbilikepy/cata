import{a4 as t,a5 as e,a7 as a,G as s,aY as n,aZ as l,b1 as i,b2 as r,aj as o,ac as c,ad as p,ae as d,af as u,am as m,b as g,b3 as h,a as I,ah as f,a6 as S,aI as v,aJ as T,b0 as k,ak as y,al as P,S as C,F as O,R as b,q as A,s as R}from"./detailed_results-CYy0djv4.chunk.js";import{n as B,o as G,q as L,s as w,w as M,Z as F,T as U,G as H,J as D}from"./preset_utils-DFpbc2HQ.chunk.js";import{R as W}from"./suggest_reforges_action-W3vdySew.chunk.js";import{s as j}from"./shared-HDVawETO.chunk.js";const x={type:"TypeAPL",prepullActions:[{action:{castSpell:{spellId:{spellId:30482}}},doAtValue:{const:{val:"-5.5s"}}},{action:{castSpell:{spellId:{spellId:55342}}},doAtValue:{const:{val:"-4s"}}},{action:{castSpell:{spellId:{otherId:"OtherActionPotion"}}},doAtValue:{const:{val:"-2.5s"}}},{action:{castSpell:{spellId:{spellId:11366}}},doAtValue:{const:{val:"-2.5s"}}}],priorityList:[{action:{autocastOtherCooldowns:{}}},{action:{condition:{cmp:{op:"OpGt",lhs:{currentTime:{}},rhs:{const:{val:"7s"}}}},castSpell:{spellId:{spellId:26297}}}},{action:{condition:{cmp:{op:"OpGt",lhs:{currentTime:{}},rhs:{const:{val:"7s"}}}},castSpell:{spellId:{spellId:82174}}}},{action:{condition:{or:{vals:[{spellIsReady:{spellId:{spellId:11129}}}]}},castSpell:{spellId:{itemId:58091}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpGt",lhs:{remainingTime:{}},rhs:{const:{val:"10s"}}}},{cmp:{op:"OpGt",lhs:{currentManaPercent:{}},rhs:{const:{val:"25%"}}}}]}},castSpell:{spellId:{spellId:30482}}}},{action:{condition:{and:{vals:[{and:{vals:[{cmp:{op:"OpLe",lhs:{currentTime:{}},rhs:{const:{val:"17s"}}}},{cmp:{op:"OpGt",lhs:{auraNumStacks:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:12846}}},rhs:{const:{val:"30000"}}}},{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:12846}}},{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:44457}}},{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:11366,tag:1}}},{auraIsActive:{auraId:{spellId:26297}}}]}}]}},castSpell:{spellId:{spellId:11129}}}},{action:{condition:{and:{vals:[{and:{vals:[{cmp:{op:"OpLe",lhs:{currentTime:{}},rhs:{const:{val:"17s"}}}},{cmp:{op:"OpLt",lhs:{auraRemainingTime:{auraId:{spellId:26297}}},rhs:{const:{val:"2.5s"}}}},{cmp:{op:"OpGt",lhs:{auraNumStacks:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:12846}}},rhs:{const:{val:"10000"}}}},{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:12846}}},{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:44457}}},{auraIsActive:{auraId:{spellId:26297}}}]}}]}},castSpell:{spellId:{spellId:11129}}}},{action:{condition:{and:{vals:[{and:{vals:[{cmp:{op:"OpGt",lhs:{currentTime:{}},rhs:{const:{val:"17s"}}}},{cmp:{op:"OpGt",lhs:{auraNumStacks:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:12846}}},rhs:{const:{val:"15000"}}}},{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:12846}}},{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:44457}}},{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:11366,tag:1}}}]}}]}},castSpell:{spellId:{spellId:11129}}}},{action:{condition:{and:{vals:[{and:{vals:[{cmp:{op:"OpLt",lhs:{remainingTime:{}},rhs:{const:{val:"15s"}}}},{cmp:{op:"OpGt",lhs:{auraNumStacks:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:12846}}},rhs:{const:{val:"10000"}}}},{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:12846}}},{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:44457}}}]}}]}},castSpell:{spellId:{spellId:11129}}}},{action:{condition:{and:{vals:[{auraIsActiveWithReactionTime:{auraId:{spellId:48108}}},{cmp:{op:"OpGt",lhs:{remainingTime:{}},rhs:{spellTravelTime:{spellId:{spellId:11366}}}}}]}},castSpell:{spellId:{spellId:11366}}}},{action:{condition:{and:{vals:[{auraIsInactiveWithReactionTime:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:44457}}},{cmp:{op:"OpGt",lhs:{remainingTime:{}},rhs:{const:{val:"5s"}}}}]}},castSpell:{spellId:{spellId:44457}}}},{action:{condition:{not:{val:{spellIsReady:{spellId:{spellId:11129}}}}},castSpell:{spellId:{spellId:82731}}}},{hide:!0,action:{condition:{cmp:{op:"OpGt",lhs:{remainingTime:{}},rhs:{const:{val:"30s"}}}},castSpell:{spellId:{spellId:55342}}}},{hide:!0,action:{condition:{cmp:{op:"OpLt",lhs:{currentManaPercent:{}},rhs:{const:{val:"40%"}}}},channelSpell:{spellId:{spellId:12051},interruptIf:{and:{vals:[{cmp:{op:"OpGt",lhs:{currentManaPercent:{}},rhs:{const:{val:"20%"}}}},{cmp:{op:"OpLt",lhs:{remainingTime:{}},rhs:{const:{val:"20s"}}}}]}}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpGt",lhs:{currentTime:{}},rhs:{const:{val:"25s"}}}},{cmp:{op:"OpLt",lhs:{currentManaPercent:{}},rhs:{const:{val:"90%"}}}}]}},castSpell:{spellId:{itemId:36799}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpGe",lhs:{remainingTime:{}},rhs:{const:{val:"20s"}}}},{cmp:{op:"OpLt",lhs:{currentManaPercent:{}},rhs:{const:{val:"10%"}}}}]}},castSpell:{spellId:{spellId:6117}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpGt",lhs:{remainingTime:{}},rhs:{const:{val:"5.15s"}}}},{cmp:{op:"OpLe",lhs:{math:{op:"OpAdd",lhs:{dotRemainingTime:{spellId:{spellId:44457}}},rhs:{inputDelay:{}}}},rhs:{const:{val:"0.15s"}}}},{dotIsActive:{spellId:{spellId:44457}}}]}},wait:{duration:{math:{op:"OpAdd",lhs:{dotRemainingTime:{spellId:{spellId:44457}}},rhs:{inputDelay:{}}}}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpGt",lhs:{currentManaPercent:{}},rhs:{const:{val:"10%"}}}},{cmp:{op:"OpGt",lhs:{remainingTime:{}},rhs:{math:{op:"OpAdd",lhs:{spellCastTime:{spellId:{spellId:133}}},rhs:{spellTravelTime:{spellId:{spellId:133}}}}}}}]}},castSpell:{spellId:{spellId:133}}}},{action:{condition:{cmp:{op:"OpGt",lhs:{remainingTime:{}},rhs:{spellCastTime:{spellId:{spellId:2948}}}}},castSpell:{spellId:{spellId:2948}}}},{action:{castSpell:{spellId:{spellId:2136}}}}]},E={items:[{id:59449,enchant:4207,gems:[68780,59478,59493]},{id:62416,reforging:165},{id:56399,enchant:4200,gems:[52217],reforging:144},{id:62357,enchant:4115},{id:62441,enchant:4102,gems:[52239,52217]},{id:56389,enchant:4257,gems:[0],reforging:145},{id:62364,enchant:4068,gems:[52217,0],reforging:165},{id:54503,gems:[52207,52207],reforging:167},{id:54505,enchant:4112,gems:[52207],reforging:144},{id:62450,enchant:4104,gems:[52239]},{id:64904,reforging:166},{id:56432},{id:62047,reforging:165},{id:62465,reforging:137},{id:64489,enchant:4097,reforging:144},{},{id:56296,reforging:166}]},N=B("Fire P1 Preset",{items:[{id:60237,enchant:4207,gems:[68780,52217],reforging:151},{id:69882,randomSuffix:-129,reforging:145},{id:65213,enchant:4200,gems:[52207],reforging:152},{id:60232,enchant:4115,gems:[52239],reforging:165},{id:65212,enchant:4102,gems:[52207,52217],reforging:144},{id:65138,enchant:4108,gems:[0],reforging:165},{id:65209,enchant:4107,gems:[52208,0],reforging:165},{id:65034,gems:[52207,52207],reforging:144},{id:65211,enchant:4112,gems:[52239,52207]},{id:65069,enchant:4104,gems:[52207],reforging:165},{id:65373,randomSuffix:-129,reforging:145},{id:65123,reforging:165},{id:65105},{id:62047,reforging:165},{id:68132,randomSuffix:-129,enchant:4097,reforging:145},{id:65133,enchant:4091},{id:59460,reforging:167}]},{talentTree:1}),V=B("Fire P1 Pre-raid",E,{talentTree:1}),q=G("Fire",x,{talentTree:1}),_=L("Fire P1",t.fromMap({[e.StatIntellect]:1.33,[e.StatSpellPower]:1,[e.StatHitRating]:1.09,[e.StatCritRating]:.62,[e.StatHasteRating]:.82,[e.StatMasteryRating]:.46})),J={name:"Fire",data:a.create({talentsString:"003-230330221120121213231-03",glyphs:s.create({prime1:n.GlyphOfFireball,prime2:n.GlyphOfPyroblast,prime3:n.GlyphOfMoltenArmor,major1:l.GlyphOfEvocation,major2:l.GlyphOfDragonSBreath,major3:l.GlyphOfInvisibility,minor1:i.GlyphOfMirrorImage,minor2:i.GlyphOfArmors,minor3:i.GlyphOfTheMonkey})})},Z=r.create({classOptions:{}}),K=o.create({arcaneBrilliance:!0,bloodlust:!0,markOfTheWild:!0,icyTalons:!0,moonkinForm:!0,leaderOfThePack:!0,powerWordFortitude:!0,strengthOfEarthTotem:!0,trueshotAura:!0,wrathOfAirTotem:!0,demonicPact:!0,blessingOfKings:!0,blessingOfMight:!0,communion:!0}),Y=c.create({flask:p.FlaskOfTheDraconicMind,food:d.FoodSeafoodFeast,defaultPotion:u.VolcanicPotion,prepopPotion:u.VolcanicPotion}),z=m.create({ebonPlaguebringer:!0,shadowAndFlame:!0}),Q={distanceFromTarget:20,profession1:g.Engineering,profession2:g.Tailoring},X=new Map([[e.StatHasteRating,new Map([["BL - 15-tick Combust",1481],["5-tick LvB/Pyro",1602],["12-tick Combust",1922],["BL - 16-tick Combust",2455],["BL - 7-tick LvB/Pyro",3199],["13-tick Combust",3212],["BL - 17-tick Combust",3436],["14-tick Combust",4488],["6-tick LvB/Pyro",4805],["15-tick Combust",5767],["16-tick Combust",7033],["7-tick LvB/Pyro",8e3],["17-tick Combust",8309],["18-tick Combust",9602],["19-tick Combust",10887],["8-tick LvB/Pyro",11198],["20-tick Combust",12182],["21-tick Combust",13463]])]]),$=h(X.get(e.StatHasteRating)),tt=w(C.SpecFireMage,{cssClass:"fire-mage-sim-ui",cssScheme:I.getCssClass(I.Mage),knownIssues:[],epStats:[e.StatIntellect,e.StatSpellPower,e.StatHitRating,e.StatCritRating,e.StatHasteRating,e.StatMasteryRating],epReferenceStat:e.StatSpellPower,displayStats:f.createDisplayStatArray([e.StatHealth,e.StatMana,e.StatStamina,e.StatIntellect,e.StatSpellPower,e.StatMasteryRating],[S.PseudoStatSpellHitPercent,S.PseudoStatSpellCritPercent,S.PseudoStatSpellHastePercent]),modifyDisplayStats:t=>j(t),defaults:{gear:N.gear,epWeights:_.epWeights,statCaps:(new t).withPseudoStat(S.PseudoStatSpellHitPercent,17),softCapBreakpoints:[v.fromPseudoStat(S.PseudoStatSpellHastePercent,{breakpoints:[$.get("5-tick LvB/Pyro"),$.get("12-tick Combust"),$.get("13-tick Combust"),$.get("14-tick Combust"),$.get("6-tick LvB/Pyro"),$.get("15-tick Combust"),$.get("16-tick Combust"),$.get("7-tick LvB/Pyro"),$.get("17-tick Combust"),$.get("18-tick Combust"),$.get("19-tick Combust"),$.get("8-tick LvB/Pyro"),$.get("20-tick Combust"),$.get("21-tick Combust")],capType:T.TypeThreshold,postCapEPs:[.61*k]})],consumes:Y,talents:J.data,specOptions:Z,other:Q,raidBuffs:K,partyBuffs:y.create({manaTideTotems:1}),individualBuffs:P.create({innervateCount:0,vampiricTouch:!0}),debuffs:z},playerIconInputs:[],rotationInputs:{inputs:[]},includeBuffDebuffInputs:[],excludeBuffDebuffInputs:[],otherInputs:{inputs:[M,F,U,H]},encounterPicker:{showExecuteProportion:!0},presets:{epWeights:[_],rotations:[q],talents:[J],gear:[N,V]},autoRotation:t=>q.rotation.rotation,raidSimPresets:[{spec:C.SpecFireMage,talents:J.data,specOptions:Z,consumes:Y,otherDefaults:Q,defaultFactionRaces:{[O.Unknown]:b.RaceUnknown,[O.Alliance]:b.RaceGnome,[O.Horde]:b.RaceTroll},defaultGear:{[O.Unknown]:{},[O.Alliance]:{1:N.gear,2:V.gear},[O.Horde]:{1:N.gear,2:V.gear}}}]});class et extends D{constructor(t,a){super(t,a,tt),a.sim.waitForInit().then((()=>{new W(this,{statSelectionPresets:X,updateSoftCaps:t=>{const e=a.getRaid()?.getBuffs(),s=!!(e?.bloodlust||e?.timeWarp||e?.heroism),n=!!a.getBuffs().powerInfusionCount,l=a.getRace()===b.RaceTroll,i=(t,e)=>100*((t/100+1)/e-1);return this.individualConfig.defaults.softCapBreakpoints.forEach((e=>{const a=t.find((t=>t.unitStat.equals(e.unitStat)));if(e.unitStat.equalsPseudoStat(S.PseudoStatSpellHastePercent)&&a){const t=new Set([...e.breakpoints]),r=[$.get("5-tick LvB/Pyro"),$.get("6-tick LvB/Pyro"),$.get("7-tick LvB/Pyro"),$.get("8-tick LvB/Pyro")];e.breakpoints.forEach((e=>{const a=r.includes(e);if(s){const a=i(e,1.3);if(a>0&&(t.add(a),l)){const e=i(a,1.2);e>0&&t.add(e)}}if(n&&!a){const a=i(e,1.2);if(a>0&&(t.add(a),l)){const e=i(a,1.2);e>0&&t.add(e)}}})),a.breakpoints=[...t].sort(((t,e)=>t-e))}})),t},additionalSoftCapTooltipInformation:{[e.StatHasteRating]:()=>{const t=a.getRaid()?.getBuffs(),e=!!(t?.bloodlust||t?.timeWarp||t?.heroism),s=!!a.getBuffs().powerInfusionCount,n=a.getRace()===b.RaceTroll;return A(R,null,(e||s||n)&&A(R,null,A("p",{className:"mb-0"},"Additional breakpoints have been created using the following cooldowns:"),A("ul",{className:"mb-0"},e&&A("li",null,"Bloodlust"),s&&A("li",null,"Power Infusion"),n&&A("li",null,"Berserking"))))}}})}))}}export{et as F};
