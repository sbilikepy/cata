import{l as e,_ as t,n as a,a0 as s,o as l,q as n,a6 as o,a4 as i,a5 as r,s as p,X as d,t as c,w as g,Z as u,T as S,F as h,G as m,J as I}from"./preset_utils-DFpbc2HQ.chunk.js";import{R as f}from"./suggest_reforges_action-W3vdySew.chunk.js";import{aO as v,aP as A,T as P,aQ as y,S as T,a4 as O,a5 as R,a6 as k,a7 as w,G as E,aR as M,aS as C,aT as b,H as x,ac as D,af as H,ad as F,ae as G,b as J,ah as W,aj as L,ak as V,al as j,am as N,aC as B,aD as _,aE as U,F as q,R as z}from"./detailed_results-CYy0djv4.chunk.js";import{s as K}from"./apl_utils-Bwhe6-Zp.chunk.js";import{s as Q,P as X,a as Z,A as $,N as Y}from"./shared-DWqY6wvh.chunk.js";const ee={inputs:[e({fieldName:"type",label:"Type",values:[{name:"Single Target",value:v.SingleTarget},{name:"AOE",value:v.Aoe}]}),e({fieldName:"sting",label:"Sting",labelTooltip:"Maintains the selected Sting on the primary target.",values:[{name:"None",value:A.NoSting},{name:"Scorpid Sting",value:A.ScorpidSting},{name:"Serpent Sting",value:A.SerpentSting}],showWhen:e=>e.getSimpleRotation().type==v.SingleTarget}),t({fieldName:"trapWeave",label:"Trap Weave",labelTooltip:"Uses Explosive Trap at appropriate times. Note that selecting this will disable Black Arrow because they share a CD."}),t({fieldName:"multiDotSerpentSting",label:"Multi-Dot Serpent Sting",labelTooltip:"Casts Serpent Sting on multiple targets",changeEmitter:e=>P.onAny([e.rotationChangeEmitter,e.talentsChangeEmitter])})]},te={type:"TypeAPL",prepullActions:[{action:{castSpell:{spellId:{otherId:"OtherActionPotion"}}},doAtValue:{const:{val:"-1s"}}}],priorityList:[{action:{autocastOtherCooldowns:{}}},{action:{castSpell:{spellId:{spellId:13812}}}},{action:{castSpell:{spellId:{spellId:2643}}}},{action:{castSpell:{spellId:{spellId:56641}}}}]},ae={type:"TypeAPL",prepullActions:[{action:{castSpell:{spellId:{spellId:13812}}},doAtValue:{const:{val:"-25s"}}},{action:{castSpell:{spellId:{otherId:"OtherActionPotion"}}},doAtValue:{const:{val:"-3s"}}},{action:{castSpell:{spellId:{spellId:13165}}},doAtValue:{const:{val:"-10s"}}},{action:{castSpell:{spellId:{spellId:1130}}},doAtValue:{const:{val:"-11s"}}},{action:{castSpell:{spellId:{spellId:2825,tag:-1}}},doAtValue:{const:{val:"-1s"}}}],priorityList:[{action:{autocastOtherCooldowns:{}}},{action:{condition:{or:{vals:[{cmp:{op:"OpLe",lhs:{spellCastTime:{spellId:{spellId:19434}}},rhs:{const:{val:"1s"}}}},{isExecutePhase:{threshold:"E90"}}]}},castSpell:{spellId:{spellId:19434}}}},{action:{condition:{and:{vals:[{not:{val:{dotIsActive:{spellId:{spellId:1978}}}}},{not:{val:{isExecutePhase:{threshold:"E90"}}}}]}},castSpell:{spellId:{spellId:1978}}}},{action:{condition:{and:{vals:[{not:{val:{isExecutePhase:{threshold:"E90"}}}}]}},castSpell:{spellId:{spellId:53209}}}},{action:{condition:{or:{vals:[{not:{val:{auraIsActive:{auraId:{spellId:53221,tag:1}}}}},{cmp:{op:"OpLe",lhs:{auraRemainingTime:{auraId:{spellId:53221,tag:1}}},rhs:{const:{val:"3s"}}}}]}},castSpell:{spellId:{spellId:56641}}}},{action:{condition:{spellCanCast:{spellId:{spellId:53351}}},castSpell:{spellId:{spellId:53351}}}},{action:{condition:{or:{vals:[{cmp:{op:"OpGe",lhs:{currentFocus:{}},rhs:{const:{val:"66"}}}},{cmp:{op:"OpGe",lhs:{spellTimeToReady:{spellId:{spellId:53209}}},rhs:{const:{val:"4"}}}}]}},castSpell:{spellId:{spellId:3044}}}},{action:{castSpell:{spellId:{spellId:56641}}}}]},se={type:"TypeAPL",prepullActions:[{action:{castSpell:{spellId:{spellId:13812}}},doAtValue:{const:{val:"-25s"}}},{action:{castSpell:{spellId:{otherId:"OtherActionPotion"}}},doAtValue:{const:{val:"-3s"}}},{action:{castSpell:{spellId:{spellId:13165}}},doAtValue:{const:{val:"-10s"}}},{action:{castSpell:{spellId:{spellId:1130}}},doAtValue:{const:{val:"-11s"}}},{action:{castSpell:{spellId:{spellId:2825,tag:-1}}},doAtValue:{const:{val:"-1s"}}}],priorityList:[{action:{autocastOtherCooldowns:{}}},{action:{condition:{or:{vals:[{cmp:{op:"OpLe",lhs:{spellCastTime:{spellId:{spellId:19434}}},rhs:{const:{val:"1s"}}}},{isExecutePhase:{threshold:"E90"}}]}},castSpell:{spellId:{spellId:19434}}}},{action:{condition:{and:{vals:[{not:{val:{dotIsActive:{spellId:{spellId:1978}}}}},{not:{val:{isExecutePhase:{threshold:"E90"}}}}]}},castSpell:{spellId:{spellId:1978}}}},{action:{condition:{and:{vals:[{not:{val:{isExecutePhase:{threshold:"E90"}}}}]}},castSpell:{spellId:{spellId:53209}}}},{action:{condition:{or:{vals:[{not:{val:{auraIsActive:{auraId:{spellId:53221,tag:1}}}}},{cmp:{op:"OpLe",lhs:{auraRemainingTime:{auraId:{spellId:53221,tag:1}}},rhs:{const:{val:"3s"}}}}]}},castSpell:{spellId:{spellId:56641}}}},{action:{condition:{spellCanCast:{spellId:{spellId:53351}}},castSpell:{spellId:{spellId:53351}}}},{action:{condition:{or:{vals:[{cmp:{op:"OpGe",lhs:{currentFocus:{}},rhs:{const:{val:"66"}}}},{cmp:{op:"OpGe",lhs:{spellTimeToReady:{spellId:{spellId:53209}}},rhs:{const:{val:"4"}}}}]}},castSpell:{spellId:{spellId:3044}}}},{action:{castSpell:{spellId:{spellId:56641}}}}]},le={items:[{id:65206,enchant:4209,gems:[68778,52209],reforging:165},{id:69880,randomSuffix:-135,reforging:151},{id:65208,enchant:4204,gems:[52212],reforging:166},{id:69884,randomSuffix:-135,enchant:1099},{id:65204,enchant:4102,gems:[52212,52220]},{id:65028,enchant:4258,gems:[52212]},{id:65205,enchant:3222,gems:[52212,52212]},{id:65132,gems:[52212,52212]},{id:60230,enchant:3823,gems:[52212,52220,52209]},{id:65063,enchant:4105,gems:[52220]},{id:65082},{id:65367,randomSuffix:-133},{id:65140},{id:65026},{id:65139,enchant:4227,reforging:167},{},{id:65058,enchant:4175,reforging:167}]},ne=a("MM PreRaid Preset",{items:[{id:59456,enchant:4209,gems:[68778,59478,59493]},{id:52350,gems:[52212]},{id:64712,enchant:4204,gems:[52212],reforging:152},{id:56315,enchant:1099},{id:56564,enchant:4063,gems:[52258],reforging:152},{id:63479,enchant:4071,gems:[0]},{id:64709,enchant:3222,gems:[52212,0],reforging:137},{id:56539,gems:[52212,52212],reforging:165},{id:56386,enchant:4126,gems:[52258,52258]},{id:62385,enchant:4076,gems:[52212],reforging:166},{id:52348,gems:[52212],reforging:167},{id:62362,reforging:166},{id:68709,reforging:166},{id:56328,reforging:137},{id:55066,enchant:4227,reforging:165},{},{id:59367,enchant:4175,gems:[52212],reforging:151}]}),oe=a("MM P1 Preset",le),ie=y.create({type:v.SingleTarget,sting:A.SerpentSting,trapWeave:!0,multiDotSerpentSting:!0,allowExplosiveShotDownrank:!0}),re=s("Simple Default",T.SpecMarksmanshipHunter,ie),pe=l("MM",ae),de=l("MM (Advanced)",se),ce=l("AOE",te),ge=n("MM P1",O.fromMap({[R.StatStamina]:.5,[R.StatAgility]:3.05,[R.StatRangedAttackPower]:1,[R.StatHitRating]:2.25,[R.StatCritRating]:1.39,[R.StatHasteRating]:1.33,[R.StatMasteryRating]:1.15},{[k.PseudoStatRangedDps]:6.32})),ue={name:"Marksman",data:w.create({talentsString:"032002-2302320232120231201-03",glyphs:E.create({prime1:M.GlyphOfArcaneShot,prime2:M.GlyphOfRapidFire,prime3:M.GlyphOfSteadyShot,major1:C.GlyphOfDisengage,major2:C.GlyphOfRaptorStrike,major3:C.GlyphOfTrapLauncher})})},Se=b.create({classOptions:{useHuntersMark:!0,petType:x.Wolf,petTalents:o,petUptime:1}}),he=D.create({defaultPotion:H.PotionOfTheTolvir,prepopPotion:H.PotionOfTheTolvir,flask:F.FlaskOfTheWinds,defaultConjured:i.value,food:G.FoodSeafoodFeast,tinkerHands:r.value}),me={distanceFromTarget:24,duration:240,durationVariation:20,profession1:J.Engineering,profession2:J.Jewelcrafting},Ie=p(T.SpecMarksmanshipHunter,{cssClass:"marksmanship-hunter-sim-ui",cssScheme:"hunter",knownIssues:[],warnings:[],epStats:[R.StatStamina,R.StatIntellect,R.StatAgility,R.StatRangedAttackPower,R.StatHitRating,R.StatCritRating,R.StatHasteRating,R.StatMP5,R.StatMasteryRating],epPseudoStats:[k.PseudoStatRangedDps],epReferenceStat:R.StatRangedAttackPower,displayStats:W.createDisplayStatArray([R.StatHealth,R.StatStamina,R.StatAgility,R.StatRangedAttackPower,R.StatMasteryRating],[k.PseudoStatPhysicalHitPercent,k.PseudoStatPhysicalCritPercent,k.PseudoStatRangedHastePercent]),modifyDisplayStats:e=>Q(e),defaults:{gear:oe.gear,epWeights:ge.epWeights,statCaps:(new O).withPseudoStat(k.PseudoStatPhysicalHitPercent,8),other:me,consumes:he,talents:ue.data,specOptions:Se,raidBuffs:L.create({arcaneBrilliance:!0,bloodlust:!0,markOfTheWild:!0,icyTalons:!0,moonkinForm:!0,leaderOfThePack:!0,powerWordFortitude:!0,strengthOfEarthTotem:!0,trueshotAura:!0,wrathOfAirTotem:!0,demonicPact:!0,blessingOfKings:!0,blessingOfMight:!0,communion:!0}),partyBuffs:V.create({}),individualBuffs:j.create({vampiricTouch:!0}),debuffs:N.create({sunderArmor:!0,faerieFire:!0,curseOfElements:!0,savageCombat:!0,bloodFrenzy:!0})},playerIconInputs:[X()],rotationInputs:ee,petConsumeInputs:[],includeBuffDebuffInputs:[d,c],excludeBuffDebuffInputs:[],otherInputs:{inputs:[Z(),$(),Y(),g,u,S,h,m]},encounterPicker:{showExecuteProportion:!0},presets:{epWeights:[ge],talents:[ue],rotations:[re,pe,de,ce],gear:[ne,oe]},autoRotation:e=>e.sim.encounter.targets.length>=4?ce.rotation.rotation:pe.rotation.rotation,simpleRotation:(e,t,a)=>{const[s,l]=K(a),n=B.fromJsonString('{"condition":{"not":{"val":{"auraIsActive":{"auraId":{"spellId":12472}}}}},"castSpell":{"spellId":{"otherId":"OtherActionPotion"}}}'),o=B.fromJsonString(`{"condition":{"cmp":{"op":"OpGt","lhs":{"remainingTime":{}},"rhs":{"const":{"val":"6s"}}}},"multidot":{"spellId":{"spellId":49001},"maxDots":${t.multiDotSerpentSting?3:1},"maxOverlap":{"const":{"val":"0ms"}}}}`),i=B.fromJsonString('{"condition":{"auraShouldRefresh":{"auraId":{"spellId":3043},"maxOverlap":{"const":{"val":"0ms"}}}},"castSpell":{"spellId":{"spellId":3043}}}'),r=B.fromJsonString('{"condition":{"not":{"val":{"dotIsActive":{"spellId":{"spellId":49067}}}}},"castSpell":{"spellId":{"tag":1,"spellId":49067}}}'),p=B.fromJsonString('{"castSpell":{"spellId":{"spellId":58434}}}'),d=B.fromJsonString('{"castSpell":{"spellId":{"spellId":61006}}}'),c=B.fromJsonString('{"castSpell":{"spellId":{"spellId":49050}}}'),g=B.fromJsonString('{"castSpell":{"spellId":{"spellId":49048}}}'),u=B.fromJsonString('{"castSpell":{"spellId":{"spellId":49052}}}'),S=B.fromJsonString('{"castSpell":{"spellId":{"spellId":34490}}}'),h=B.fromJsonString('{"castSpell":{"spellId":{"spellId":53209}}}');return t.type==v.Aoe?l.push(...[n,t.sting==A.ScorpidSting?i:null,t.sting==A.SerpentSting?o:null,t.trapWeave?r:null,p].filter((e=>e))):l.push(...[n,S,d,t.sting==A.ScorpidSting?i:null,t.sting==A.SerpentSting?o:null,t.trapWeave?r:null,h,c,g,u].filter((e=>e))),_.create({prepullActions:s,priorityList:l.map((e=>U.create({action:e})))})},raidSimPresets:[{spec:T.SpecMarksmanshipHunter,talents:ue.data,specOptions:Se,consumes:he,defaultFactionRaces:{[q.Unknown]:z.RaceUnknown,[q.Alliance]:z.RaceWorgen,[q.Horde]:z.RaceTroll},defaultGear:{[q.Unknown]:{},[q.Alliance]:{1:ne.gear},[q.Horde]:{1:ne.gear}},otherDefaults:me}]});class fe extends I{constructor(e,t){super(e,t,Ie),t.sim.waitForInit().then((()=>{new f(this)}))}}export{fe as M};
